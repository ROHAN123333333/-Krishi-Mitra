<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krishi Mitra - AI-Powered Crop Recommendation System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        :root {
            --primary: #2e7d32;
            --secondary: #7cb342;
            --accent: #ffa000;
            --light: #f1f8e9;
            --dark: #1b5e20;
            --warning: #ff9800;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            padding-top: 20px;
        }
        
        .navbar {
            background-color: var(--primary);
            border-radius: 10px;
            margin: 0 15px;
        }
        
        .language-selector {
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 1000;
        }
        
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1500937386664-56d1dfef3854?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 80px 0;
            text-align: center;
            border-radius: 15px;
            margin: 20px 15px;
        }
        
        .section-title {
            position: relative;
            padding-bottom: 15px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--secondary);
        }
        
        .card {
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            border: none;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }
        
        .card-header {
            background-color: var(--primary);
            color: white;
            font-weight: 600;
        }
        
        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
        }
        
        .btn-primary:hover {
            background-color: var(--dark);
            border-color: var(--dark);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: var(--secondary);
            margin-bottom: 15px;
        }
        
        .crop-card {
            border-left: 5px solid var(--secondary);
        }
        
        .profit-badge {
            background-color: var(--accent);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        footer {
            background-color: var(--dark);
            color: white;
            padding: 50px 0 20px;
            margin-top: 40px;
        }
        
        .input-group-text {
            background-color: var(--light);
        }
        
        .voice-btn {
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .voice-btn:hover {
            background-color: var(--secondary);
            color: white;
        }
        
        .weather-card {
            background: linear-gradient(120deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-radius: 15px;
        }
        
        .market-trend {
            border-left: 4px solid var(--warning);
        }
        
        .community-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .progress {
            height: 10px;
            border-radius: 5px;
        }
        
        #map {
            height: 300px;
            border-radius: 15px;
            z-index: 1;
            margin-top: 10px;
        }
        
        .recommendation-tag {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            background-color: var(--light);
            margin: 5px;
            font-size: 0.9rem;
        }
        
        .gps-status {
            font-size: 0.9rem;
            margin-top: 5px;
            display: block;
        }
        
        .location-details {
            background-color: var(--light);
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .hero-section {
                padding: 50px 0;
            }
            
            .display-4 {
                font-size: 2.2rem;
            }
            
            #map {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <select class="form-select form-select-sm">
            <option value="en">English</option>
            <option value="hi">Hindi</option>
            <option value="ta">Tamil</option>
            <option value="te">Telugu</option>
            <option value="bn">Bengali</option>
        </select>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-seedling me-2"></i>Krishi Mitra
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#"><i class="fas fa-home me-1"></i> Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#features"><i class="fas fa-star me-1"></i> Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#recommendation"><i class="fas fa-calculator me-1"></i> Recommendation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#community"><i class="fas fa-users me-1"></i> Community</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1 class="display-4 fw-bold mb-4">AI-Powered Crop Recommendations for Indian Farmers</h1>
            <p class="lead mb-4">Maximize your yield and profits with intelligent data-driven insights</p>
            <a href="#recommendation" class="btn btn-lg btn-success px-4 py-3">
                <i class="fas fa-leaf me-2"></i>Get Personalized Recommendations
            </a>
        </div>
    </section>

    <!-- Recommendation Form Section -->
    <section id="recommendation" class="py-5">
        <div class="container">
            <h2 class="text-center section-title">Get Personalized Crop Recommendations</h2>
            <p class="text-center mb-5">Fill in your farm details to receive AI-powered crop suggestions</p>
            
            <div class="row">
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="mb-0"><i class="fas fa-info-circle me-2"></i>Farm Information</h3>
                        </div>
                        <div class="card-body">
                            <form id="cropForm">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="location" class="form-label">Location</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="location" placeholder="Enter your district">
                                            <button class="btn btn-outline-secondary" type="button" id="detectLocation">
                                                <i class="fas fa-map-marker-alt"></i> Detect
                                            </button>
                                        </div>
                                        <span class="gps-status" id="gpsStatus">GPS detection not started</span>
                                        
                                        <div id="map" class="mt-2"></div>
                                        <div class="location-details" id="locationDetails" style="display: none;">
                                            <strong>Detected Location Details:</strong>
                                            <div id="locationAddress"></div>
                                            <div>Latitude: <span id="locationLat"></span></div>
                                            <div>Longitude: <span id="locationLng"></span></div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="soilType" class="form-label">Soil Type</label>
                                        <select class="form-select" id="soilType">
                                            <option value="">Select soil type</option>
                                            <option value="sandy">Sandy</option>
                                            <option value="clay">Clay</option>
                                            <option value="loamy">Loamy</option>
                                            <option value="black">Black Cotton</option>
                                            <option value="red">Red</option>
                                            <option value="laterite">Laterite</option>
                                        </select>
                                        
                                        <label for="soilPh" class="form-label mt-3">Soil pH Level</label>
                                        <input type="range" class="form-range" min="4" max="9" step="0.1" id="soilPh" value="6.5">
                                        <div class="d-flex justify-content-between">
                                            <small>Acidic (4.0)</small>
                                            <small>Neutral (6.5)</small>
                                            <small>Alkaline (9.0)</small>
                                        </div>
                                        <div class="text-center text-success" id="phValue">pH: 6.5</div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="landSize" class="form-label">Land Size</label>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="landSize" placeholder="Enter land size">
                                            <select class="form-select" id="landUnit">
                                                <option value="acre">Acre</option>
                                                <option value="hectare">Hectare</option>
                                                <option value="bigha">Bigha</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="season" class="form-label">Current Season</label>
                                        <select class="form-select" id="season">
                                            <option value="">Select season</option>
                                            <option value="kharif">Kharif (June - October)</option>
                                            <option value="rabi">Rabi (November - April)</option>
                                            <option value="zaid">Zaid (March - June)</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="water" class="form-label">Water Availability</label>
                                        <select class="form-select" id="water">
                                            <option value="">Select water availability</option>
                                            <option value="low">Low (Rainfed)</option>
                                            <option value="medium">Medium (Limited Irrigation)</option>
                                            <option value="high">High (Good Irrigation)</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="budget" class="form-label">Budget (per acre)</label>
                                        <div class="input-group">
                                            <span class="input-group-text">₹</span>
                                            <input type="number" class="form-control" id="budget" placeholder="Enter your budget">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="text-center mt-4">
                                    <button type="submit" class="btn btn-success btn-lg px-5 py-3">
                                        <i class="fas fa-calculator me-2"></i>Generate Recommendation
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <!-- Weather Information Card -->
                    <div class="card weather-card">
                        <div class="card-body text-center">
                            <h4 class="card-title"><i class="fas fa-cloud-sun me-2"></i>Weather Forecast</h4>
                            <div class="display-4">28°C</div>
                            <p class="mb-1">Partly Cloudy</p>
                            <p class="mb-3" id="weatherLocation">Detecting location...</p>
                            
                            <div class="row">
                                <div class="col-4">
                                    <i class="fas fa-tint"></i>
                                    <p>Humidity</p>
                                    <h5>42%</h5>
                                </div>
                                <div class="col-4">
                                    <i class="fas fa-wind"></i>
                                    <p>Wind</p>
                                    <h5>12 km/h</h5>
                                </div>
                                <div class="col-4">
                                    <i class="fas fa-cloud-rain"></i>
                                    <p>Rain</p>
                                    <h5>10%</h5>
                                </div>
                            </div>
                            
                            <hr>
                            
                            <h5>5-Day Forecast</h5>
                            <div class="d-flex justify-content-between">
                                <div>
                                    <p>Mon</p>
                                    <i class="fas fa-sun"></i>
                                    <p>30°C</p>
                                </div>
                                <div>
                                    <p>Tue</p>
                                    <i class="fas fa-cloud"></i>
                                    <p>28°C</p>
                                </div>
                                <div>
                                    <p>Wed</p>
                                    <i class="fas fa-cloud-rain"></i>
                                    <p>26°C</p>
                                </div>
                                <div>
                                    <p>Thu</p>
                                    <i class="fas fa-sun"></i>
                                    <p>29°C</p>
                                </div>
                                <div>
                                    <p>Fri</p>
                                    <i class="fas fa-sun"></i>
                                    <p>31°C</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Market Trends Card -->
                    <div class="card mt-4">
                        <div class="card-header">
                            <h4 class="mb-0"><i class="fas fa-chart-line me-2"></i>Market Trends</h4>
                        </div>
                        <div class="card-body">
                            <div class="market-trend p-3 mb-3">
                                <h5>Wheat</h5>
                                <div class="d-flex justify-content-between">
                                    <span>₹2,250/quintal</span>
                                    <span class="text-success"><i class="fas fa-arrow-up"></i> 5.2%</span>
                                </div>
                            </div>
                            <div class="market-trend p-3 mb-3">
                                <h5>Rice</h5>
                                <div class="d-flex justify-content-between">
                                    <span>₹3,100/quintal</span>
                                    <span class="text-danger"><i class="fas fa-arrow-down"></i> 2.1%</span>
                                </div>
                            </div>
                            <div class="market-trend p-3">
                                <h5>Tomato</h5>
                                <div class="d-flex justify-content-between">
                                    <span>₹1,800/quintal</span>
                                    <span class="text-success"><i class="fas fa-arrow-up"></i> 12.7%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center text-lg-start">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
                    <h5 class="text-uppercase">Krishi Mitra</h5>
                    <p>Empowering farmers with AI-driven insights for better crop selection and increased profitability.</p>
                    <div class="mt-3">
                        <a href="#" class="text-white me-2"><i class="fab fa-facebook-f fa-lg"></i></a>
                        <a href="#" class="text-white me-2"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="#" class="text-white me-2"><i class="fab fa-instagram fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-youtube fa-lg"></i></a>
                    </div>
                </div>
                
                <div class="col-lg-4 col-md-6 mb-4 mb-md-0">
                    <h5 class="text-uppercase">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white"><i class="fas fa-angle-right me-2"></i>Home</a></li>
                        <li><a href="#features" class="text-white"><i class="fas fa-angle-right me-2"></i>Features</a></li>
                        <li><a href="#recommendation" class="text-white"><i class="fas fa-angle-right me-2"></i>Recommendation</a></li>
                        <li><a href="#community" class="text-white"><i class="fas fa-angle-right me-2"></i>Community</a></li>
                    </ul>
                </div>
                
                <div class="col-lg-4 col-md-12 mb-4 mb-md-0">
                    <h5 class="text-uppercase">Contact Us</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i> support@krishimitra.com</li>
                        <li><i class="fas fa-phone me-2"></i> +91 1800-123-4567</li>
                        <li><i class="fas fa-map-marker-alt me-2"></i> New Delhi, India</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="text-center p-3 mt-4" style="background-color: rgba(0, 0, 0, 0.2);">
            © 2023 Krishi Mitra. All rights reserved.
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        // Variables for map and marker
        let map, marker;
        
        // Form submission handler
        document.getElementById('cropForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show a simple alert for demonstration
            alert('Form submitted! In a real application, this would send data to the server for processing.');
        });
        
        // Soil pH value display
        const soilPh = document.getElementById('soilPh');
        const phValue = document.getElementById('phValue');
        
        soilPh.addEventListener('input', function() {
            phValue.textContent = `pH: ${this.value}`;
            
            // Change color based on pH value
            if (this.value < 5.5) {
                phValue.className = 'text-center text-danger';
            } else if (this.value > 7.5) {
                phValue.className = 'text-center text-warning';
            } else {
                phValue.className = 'text-center text-success';
            }
        });
        
        // Initialize map
        function initMap(lat, lng) {
            if (map) {
                map.remove();
            }
            
            map = L.map('map').setView([lat, lng], 13);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
            
            // Add marker
            if (marker) {
                map.removeLayer(marker);
            }
            
            marker = L.marker([lat, lng]).addTo(map)
                .bindPopup('Your detected location')
                .openPopup();
        }
        
        // Reverse geocoding function to get address from coordinates
        async function reverseGeocode(lat, lng) {
            try {
                const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);
                const data = await response.json();
                
                if (data && data.address) {
                    const address = data.address;
                    let locationText = '';
                    
                    // Try to get the most relevant location information
                    if (address.village) locationText = address.village;
                    else if (address.town) locationText = address.town;
                    else if (address.city) locationText = address.city;
                    else if (address.county) locationText = address.county;
                    
                    if (address.state) locationText += `, ${address.state}`;
                    
                    // Update location input and details
                    document.getElementById('location').value = locationText;
                    document.getElementById('locationAddress').textContent = locationText;
                    document.getElementById('locationLat').textContent = lat.toFixed(6);
                    document.getElementById('locationLng').textContent = lng.toFixed(6);
                    document.getElementById('locationDetails').style.display = 'block';
                    document.getElementById('weatherLocation').textContent = locationText;
                    
                    return locationText;
                }
            } catch (error) {
                console.error('Error in reverse geocoding:', error);
                document.getElementById('gpsStatus').textContent = 'Error getting address details';
                document.getElementById('gpsStatus').className = 'gps-status text-danger';
            }
            
            return null;
        }
        
        // Location detection
        document.getElementById('detectLocation').addEventListener('click', function() {
            const statusElement = document.getElementById('gpsStatus');
            statusElement.textContent = 'Detecting location...';
            statusElement.className = 'gps-status text-info';
            
            if (!navigator.geolocation) {
                statusElement.textContent = 'Geolocation is not supported by your browser';
                statusElement.className = 'gps-status text-danger';
                return;
            }
            
            function success(position) {
                const lat = position.coords.latitude;
                const lng = position.coords.longitude;
                const accuracy = position.coords.accuracy;
                
                statusElement.textContent = `Location detected (accuracy: ${Math.round(accuracy)} meters)`;
                statusElement.className = 'gps-status text-success';
                
                // Initialize map with detected location
                initMap(lat, lng);
                
                // Get address from coordinates
                reverseGeocode(lat, lng);
            }
            
            function error() {
                statusElement.textContent = 'Unable to retrieve your location. Please enter manually.';
                statusElement.className = 'gps-status text-danger';
            }
            
            navigator.geolocation.getCurrentPosition(success, error, {
                enableHighAccuracy: true,
                timeout: 10000,
                maximumAge: 60000
            });
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>
</body>
</html>